(function(){const e=document.createElement("link").relList;if(e&&e.supports&&e.supports("modulepreload"))return;for(const i of document.querySelectorAll('link[rel="modulepreload"]'))r(i);new MutationObserver(i=>{for(const s of i)if(s.type==="childList")for(const o of s.addedNodes)o.tagName==="LINK"&&o.rel==="modulepreload"&&r(o)}).observe(document,{childList:!0,subtree:!0});function n(i){const s={};return i.integrity&&(s.integrity=i.integrity),i.referrerPolicy&&(s.referrerPolicy=i.referrerPolicy),i.crossOrigin==="use-credentials"?s.credentials="include":i.crossOrigin==="anonymous"?s.credentials="omit":s.credentials="same-origin",s}function r(i){if(i.ep)return;i.ep=!0;const s=n(i);fetch(i.href,s)}})();function C(){}function xe(t){return t()}function Oe(){return Object.create(null)}function B(t){t.forEach(xe)}function et(t){return typeof t=="function"}function j(t,e){return t!=t?e==e:t!==e||t&&typeof t=="object"||typeof t=="function"}let ne;function ze(t,e){return ne||(ne=document.createElement("a")),ne.href=e,t===ne.href}function ct(t){return Object.keys(t).length===0}function ut(t,...e){if(t==null)return C;const n=t.subscribe(...e);return n.unsubscribe?()=>n.unsubscribe():n}function D(t,e,n){t.$$.on_destroy.push(ut(e,n))}function Me(t){return t??""}function T(t,e){t.appendChild(e)}function $(t,e,n){t.insertBefore(e,n||null)}function P(t){t.parentNode&&t.parentNode.removeChild(t)}function k(t){return document.createElement(t)}function Pe(t){return document.createTextNode(t)}function W(){return Pe(" ")}function lt(){return Pe("")}function Q(t,e,n,r){return t.addEventListener(e,n,r),()=>t.removeEventListener(e,n,r)}function p(t,e,n){n==null?t.removeAttribute(e):t.getAttribute(e)!==n&&t.setAttribute(e,n)}function ft(t){return Array.from(t.childNodes)}function gt(t,e){e=""+e,t.data!==e&&(t.data=e)}function je(t,e,n,r){n==null?t.style.removeProperty(e):t.style.setProperty(e,n,r?"important":"")}function h(t,e,n){t.classList[n?"add":"remove"](e)}let Te;function J(t){Te=t}const H=[],Ne=[];let X=[];const De=[],dt=Promise.resolve();let me=!1;function bt(){me||(me=!0,dt.then(tt))}function we(t){X.push(t)}const be=new Set;let U=0;function tt(){if(U!==0)return;const t=Te;do{try{for(;U<H.length;){const e=H[U];U++,J(e),pt(e.$$)}}catch(e){throw H.length=0,U=0,e}for(J(null),H.length=0,U=0;Ne.length;)Ne.pop()();for(let e=0;e<X.length;e+=1){const n=X[e];be.has(n)||(be.add(n),n())}X.length=0}while(H.length);for(;De.length;)De.pop()();me=!1,be.clear(),J(t)}function pt(t){if(t.fragment!==null){t.update(),B(t.before_update);const e=t.dirty;t.dirty=[-1],t.fragment&&t.fragment.p(t.ctx,e),t.after_update.forEach(we)}}function mt(t){const e=[],n=[];X.forEach(r=>t.indexOf(r)===-1?e.push(r):n.push(r)),n.forEach(r=>r()),X=e}const ie=new Set;let G;function ce(){G={r:0,c:[],p:G}}function ue(){G.r||B(G.c),G=G.p}function w(t,e){t&&t.i&&(ie.delete(t),t.i(e))}function y(t,e,n,r){if(t&&t.o){if(ie.has(t))return;ie.add(t),G.c.push(()=>{ie.delete(t),r&&(n&&t.d(1),r())}),t.o(e)}else r&&r()}function $e(t,e){y(t,1,1,()=>{e.delete(t.key)})}function Se(t,e,n,r,i,s,o,_,c,a,u,f){let b=t.length,g=s.length,d=b;const S={};for(;d--;)S[t[d].key]=d;const ee=[],fe=new Map,ge=new Map,Ae=[];for(d=g;d--;){const m=f(i,s,d),R=n(m);let E=o.get(R);E?r&&Ae.push(()=>E.p(m,e)):(E=a(R,m),E.c()),fe.set(R,ee[d]=E),R in S&&ge.set(R,Math.abs(d-S[R]))}const Re=new Set,Ee=new Set;function de(m){w(m,1),m.m(_,u),o.set(m.key,m),u=m.first,g--}for(;b&&g;){const m=ee[g-1],R=t[b-1],E=m.key,te=R.key;m===R?(u=m.first,b--,g--):fe.has(te)?!o.has(E)||Re.has(E)?de(m):Ee.has(te)?b--:ge.get(E)>ge.get(te)?(Ee.add(E),de(m)):(Re.add(te),b--):(c(R,o),b--)}for(;b--;){const m=t[b];fe.has(m.key)||c(m,o)}for(;g;)de(ee[g-1]);return B(Ae),ee}function O(t){t&&t.c()}function F(t,e,n,r){const{fragment:i,after_update:s}=t.$$;i&&i.m(e,n),r||we(()=>{const o=t.$$.on_mount.map(xe).filter(et);t.$$.on_destroy?t.$$.on_destroy.push(...o):B(o),t.$$.on_mount=[]}),s.forEach(we)}function A(t,e){const n=t.$$;n.fragment!==null&&(mt(n.after_update),B(n.on_destroy),n.fragment&&n.fragment.d(e),n.on_destroy=n.fragment=null,n.ctx=[])}function wt(t,e){t.$$.dirty[0]===-1&&(H.push(t),bt(),t.$$.dirty.fill(0)),t.$$.dirty[e/31|0]|=1<<e%31}function I(t,e,n,r,i,s,o,_=[-1]){const c=Te;J(t);const a=t.$$={fragment:null,ctx:[],props:s,update:C,not_equal:i,bound:Oe(),on_mount:[],on_destroy:[],on_disconnect:[],before_update:[],after_update:[],context:new Map(e.context||(c?c.$$.context:[])),callbacks:Oe(),dirty:_,skip_bound:!1,root:e.target||c.$$.root};o&&o(a.root);let u=!1;if(a.ctx=n?n(t,e.props||{},(f,b,...g)=>{const d=g.length?g[0]:b;return a.ctx&&i(a.ctx[f],a.ctx[f]=d)&&(!a.skip_bound&&a.bound[f]&&a.bound[f](d),u&&wt(t,f)),b}):[],a.update(),u=!0,B(a.before_update),a.fragment=r?r(a.ctx):!1,e.target){if(e.hydrate){const f=ft(e.target);a.fragment&&a.fragment.l(f),f.forEach(P)}else a.fragment&&a.fragment.c();e.intro&&w(t.$$.fragment),F(t,e.target,e.anchor,e.customElement),tt()}J(c)}class L{$destroy(){A(this,1),this.$destroy=C}$on(e,n){if(!et(n))return C;const r=this.$$.callbacks[e]||(this.$$.callbacks[e]=[]);return r.push(n),()=>{const i=r.indexOf(n);i!==-1&&r.splice(i,1)}}$set(e){this.$$set&&!ct(e)&&(this.$$.skip_bound=!0,this.$$set(e),this.$$.skip_bound=!1)}}var N=(t=>(t[t.SelectingCard=0]="SelectingCard",t[t.PutingCard=1]="PutingCard",t[t.TakingNewCard=2]="TakingNewCard",t[t.SubmitingMove=3]="SubmitingMove",t))(N||{}),M=(t=>(t[t.Route=0]="Route",t[t.FreeCards=1]="FreeCards",t))(M||{}),le=(t=>(t[t.MainDeck=0]="MainDeck",t[t.FreeCards=1]="FreeCards",t))(le||{});class nt{constructor(e){this.player=e,this._stage=0}_stage;_selectedCard;_putTo;_takeFrom;_freeCardsCampaign;get stage(){return this._stage}get card(){return this._selectedCard}get putTo(){return this._putTo}get takeFrom(){return this._takeFrom}get freeCardsCampaign(){return this._freeCardsCampaign}selectCard(e){this._selectedCard=e,this._stage=1}diselectCard(){this._selectedCard=null,this._stage=0}putCard(e){this._putTo=e,this._stage=2}takeNewCard(e,n){this._takeFrom=e,this._freeCardsCampaign=n,this._stage=3}}const V=[];function rt(t,e=C){let n;const r=new Set;function i(_){if(j(t,_)&&(t=_,n)){const c=!V.length;for(const a of r)a[1](),V.push(a,t);if(c){for(let a=0;a<V.length;a+=2)V[a][0](V[a+1]);V.length=0}}}function s(_){i(_(t))}function o(_,c=C){const a=[_,c];return r.add(a),r.size===1&&(n=e(i)||C),_(t),()=>{r.delete(a),r.size===0&&n&&(n(),n=null)}}return{set:i,update:s,subscribe:o}}let l,Y=null;function se(){return(Y===null||Y.byteLength===0)&&(Y=new Uint8Array(l.memory.buffer)),Y}let ae=new TextDecoder("utf-8",{ignoreBOM:!0,fatal:!0});ae.decode();const ht=2146435072;let pe=0;function yt(t,e){return pe+=e,pe>=ht&&(ae=new TextDecoder("utf-8",{ignoreBOM:!0,fatal:!0}),ae.decode(),pe=e),ae.decode(se().subarray(t,t+e))}function re(t,e){return t=t>>>0,yt(t,e)}function he(t){const e=typeof t;if(e=="number"||e=="boolean"||t==null)return`${t}`;if(e=="string")return`"${t}"`;if(e=="symbol"){const i=t.description;return i==null?"Symbol":`Symbol(${i})`}if(e=="function"){const i=t.name;return typeof i=="string"&&i.length>0?`Function(${i})`:"Function"}if(Array.isArray(t)){const i=t.length;let s="[";i>0&&(s+=he(t[0]));for(let o=1;o<i;o++)s+=", "+he(t[o]);return s+="]",s}const n=/\[object ([^\]]+)\]/.exec(toString.call(t));let r;if(n&&n.length>1)r=n[1];else return toString.call(t);if(r=="Object")try{return"Object("+JSON.stringify(t)+")"}catch{return"Object"}return t instanceof Error?`${t.name}: ${t.message}
${t.stack}`:r}let ye=0;const K=new TextEncoder;"encodeInto"in K||(K.encodeInto=function(t,e){const n=K.encode(t);return e.set(n),{read:t.length,written:n.length}});function kt(t,e,n){if(n===void 0){const _=K.encode(t),c=e(_.length,1)>>>0;return se().subarray(c,c+_.length).set(_),ye=_.length,c}let r=t.length,i=e(r,1)>>>0;const s=se();let o=0;for(;o<r;o++){const _=t.charCodeAt(o);if(_>127)break;s[i+o]=_}if(o!==r){o!==0&&(t=t.slice(o)),i=n(i,r,r=o+t.length*3,1)>>>0;const _=se().subarray(i+o,i+r),c=K.encodeInto(t,_);o+=c.written,i=n(i,r,o,1)>>>0}return ye=o,i}let q=null;function Ie(){return(q===null||q.buffer.detached===!0||q.buffer.detached===void 0&&q.buffer!==l.memory.buffer)&&(q=new DataView(l.memory.buffer)),q}function Ct(t){const e=l.__externref_table_alloc();return l.__wbindgen_externrefs.set(e,t),e}function z(t,e){try{return t.apply(this,e)}catch(n){const r=Ct(n);l.__wbindgen_exn_store(r)}}function it(t){return t==null}function st(t,e){if(!(t instanceof e))throw new Error(`expected instance of ${e.name}`)}function vt(t){const e=l.__wbindgen_externrefs.get(t);return l.__externref_table_dealloc(t),e}const Le=["Player1","Player2"],qe=typeof FinalizationRegistry>"u"?{register:()=>{},unregister:()=>{}}:new FinalizationRegistry(t=>l.__wbg_card_free(t>>>0,1));let _e=class at{static __wrap(e){e=e>>>0;const n=Object.create(at.prototype);return n.__wbg_ptr=e,qe.register(n,n.__wbg_ptr,n),n}__destroy_into_raw(){const e=this.__wbg_ptr;return this.__wbg_ptr=0,qe.unregister(this),e}free(){const e=this.__destroy_into_raw();l.__wbg_card_free(e,0)}get campaign(){return l.card_campaign(this.__wbg_ptr)}get card_type(){return l.card_card_type(this.__wbg_ptr)}get id(){return l.card_id(this.__wbg_ptr)>>>0}};Symbol.dispose&&(_e.prototype[Symbol.dispose]=_e.prototype.free);const Ge=typeof FinalizationRegistry>"u"?{register:()=>{},unregister:()=>{}}:new FinalizationRegistry(t=>l.__wbg_config_free(t>>>0,1));class oe{__destroy_into_raw(){const e=this.__wbg_ptr;return this.__wbg_ptr=0,Ge.unregister(this),e}free(){const e=this.__destroy_into_raw();l.__wbg_config_free(e,0)}get campaigns_amount(){return l.__wbg_get_config_campaigns_amount(this.__wbg_ptr)}set campaigns_amount(e){l.__wbg_set_config_campaigns_amount(this.__wbg_ptr,e)}get card_ranks_amount(){return l.__wbg_get_config_card_ranks_amount(this.__wbg_ptr)}set card_ranks_amount(e){l.__wbg_set_config_card_ranks_amount(this.__wbg_ptr,e)}get handshakes_amount(){return l.__wbg_get_config_handshakes_amount(this.__wbg_ptr)}set handshakes_amount(e){l.__wbg_set_config_handshakes_amount(this.__wbg_ptr,e)}get cards_on_hand_amount(){return l.__wbg_get_config_cards_on_hand_amount(this.__wbg_ptr)}set cards_on_hand_amount(e){l.__wbg_set_config_cards_on_hand_amount(this.__wbg_ptr,e)}get campaign_outcome(){return l.__wbg_get_config_campaign_outcome(this.__wbg_ptr)>>>0}set campaign_outcome(e){l.__wbg_set_config_campaign_outcome(this.__wbg_ptr,e)}get min_cards_for_bonus(){return l.__wbg_get_config_min_cards_for_bonus(this.__wbg_ptr)}set min_cards_for_bonus(e){l.__wbg_set_config_min_cards_for_bonus(this.__wbg_ptr,e)}get bonus(){return l.__wbg_get_config_bonus(this.__wbg_ptr)}set bonus(e){l.__wbg_set_config_bonus(this.__wbg_ptr,e)}constructor(e,n,r,i,s,o,_){const c=l.config_new(e,n,r,i,s,o,_);return this.__wbg_ptr=c>>>0,Ge.register(this,this.__wbg_ptr,this),this}}Symbol.dispose&&(oe.prototype[Symbol.dispose]=oe.prototype.free);const We=typeof FinalizationRegistry>"u"?{register:()=>{},unregister:()=>{}}:new FinalizationRegistry(t=>l.__wbg_game_free(t>>>0,1));let ke=class _t{static __wrap(e){e=e>>>0;const n=Object.create(_t.prototype);return n.__wbg_ptr=e,We.register(n,n.__wbg_ptr,n),n}__destroy_into_raw(){const e=this.__wbg_ptr;return this.__wbg_ptr=0,We.unregister(this),e}free(){const e=this.__destroy_into_raw();l.__wbg_game_free(e,0)}make_move(e,n,r,i,s){const o=l.game_make_move(this.__wbg_ptr,(Le.indexOf(e)+1||3)-1,n,r,i,it(s)?16777215:s);if(o[1])throw vt(o[0])}game_info(e){const n=l.game_game_info(this.__wbg_ptr,(Le.indexOf(e)+1||3)-1);return Z.__wrap(n)}get game_results(){const e=l.game_game_results(this.__wbg_ptr);return x.__wrap(e)}};Symbol.dispose&&(ke.prototype[Symbol.dispose]=ke.prototype.free);const Pt=typeof FinalizationRegistry>"u"?{register:()=>{},unregister:()=>{}}:new FinalizationRegistry(t=>l.__wbg_gamebuilder_free(t>>>0,1));class Ce{__destroy_into_raw(){const e=this.__wbg_ptr;return this.__wbg_ptr=0,Pt.unregister(this),e}free(){const e=this.__destroy_into_raw();l.__wbg_gamebuilder_free(e,0)}static build(e){st(e,oe);var n=e.__destroy_into_raw();const r=l.gamebuilder_build(n);return ke.__wrap(r)}}Symbol.dispose&&(Ce.prototype[Symbol.dispose]=Ce.prototype.free);const Be=typeof FinalizationRegistry>"u"?{register:()=>{},unregister:()=>{}}:new FinalizationRegistry(t=>l.__wbg_gameinfo_free(t>>>0,1));class Z{static __wrap(e){e=e>>>0;const n=Object.create(Z.prototype);return n.__wbg_ptr=e,Be.register(n,n.__wbg_ptr,n),n}__destroy_into_raw(){const e=this.__wbg_ptr;return this.__wbg_ptr=0,Be.unregister(this),e}free(){const e=this.__destroy_into_raw();l.__wbg_gameinfo_free(e,0)}get is_players_turn(){return l.__wbg_get_gameinfo_is_players_turn(this.__wbg_ptr)!==0}set is_players_turn(e){l.__wbg_set_gameinfo_is_players_turn(this.__wbg_ptr,e)}get main_deck_len(){return l.__wbg_get_gameinfo_main_deck_len(this.__wbg_ptr)>>>0}set main_deck_len(e){l.__wbg_set_gameinfo_main_deck_len(this.__wbg_ptr,e)}get is_game_ended(){return l.__wbg_get_gameinfo_is_game_ended(this.__wbg_ptr)!==0}set is_game_ended(e){l.__wbg_set_gameinfo_is_game_ended(this.__wbg_ptr,e)}get campaigns(){return l.gameinfo_campaigns(this.__wbg_ptr)}get players_hand(){return l.gameinfo_players_hand(this.__wbg_ptr)}}Symbol.dispose&&(Z.prototype[Symbol.dispose]=Z.prototype.free);const Tt=typeof FinalizationRegistry>"u"?{register:()=>{},unregister:()=>{}}:new FinalizationRegistry(t=>l.__wbg_gameinfocampaign_free(t>>>0,1));class Ue{__destroy_into_raw(){const e=this.__wbg_ptr;return this.__wbg_ptr=0,Tt.unregister(this),e}free(){const e=this.__destroy_into_raw();l.__wbg_gameinfocampaign_free(e,0)}get last_free_card(){const e=l.__wbg_get_gameinfocampaign_last_free_card(this.__wbg_ptr);return e===0?void 0:_e.__wrap(e)}set last_free_card(e){let n=0;it(e)||(st(e,_e),n=e.__destroy_into_raw()),l.__wbg_set_gameinfocampaign_last_free_card(this.__wbg_ptr,n)}get players_route(){return l.gameinfocampaign_players_route(this.__wbg_ptr)}get foes_route(){return l.gameinfocampaign_foes_route(this.__wbg_ptr)}}Symbol.dispose&&(Ue.prototype[Symbol.dispose]=Ue.prototype.free);const Ve=typeof FinalizationRegistry>"u"?{register:()=>{},unregister:()=>{}}:new FinalizationRegistry(t=>l.__wbg_gameinforesults_free(t>>>0,1));class x{static __wrap(e){e=e>>>0;const n=Object.create(x.prototype);return n.__wbg_ptr=e,Ve.register(n,n.__wbg_ptr,n),n}__destroy_into_raw(){const e=this.__wbg_ptr;return this.__wbg_ptr=0,Ve.unregister(this),e}free(){const e=this.__destroy_into_raw();l.__wbg_gameinforesults_free(e,0)}get player_1_score(){return l.__wbg_get_config_campaign_outcome(this.__wbg_ptr)}set player_1_score(e){l.__wbg_set_config_campaign_outcome(this.__wbg_ptr,e)}get player_2_score(){return l.__wbg_get_gameinforesults_player_2_score(this.__wbg_ptr)}set player_2_score(e){l.__wbg_set_gameinforesults_player_2_score(this.__wbg_ptr,e)}}Symbol.dispose&&(x.prototype[Symbol.dispose]=x.prototype.free);const $t=new Set(["basic","cors","default"]);async function St(t,e){if(typeof Response=="function"&&t instanceof Response){if(typeof WebAssembly.instantiateStreaming=="function")try{return await WebAssembly.instantiateStreaming(t,e)}catch(r){if(t.ok&&$t.has(t.type)&&t.headers.get("Content-Type")!=="application/wasm")console.warn("`WebAssembly.instantiateStreaming` failed because your server does not serve Wasm with `application/wasm` MIME type. Falling back to `WebAssembly.instantiate` which is slower. Original error:\n",r);else throw r}const n=await t.arrayBuffer();return await WebAssembly.instantiate(n,e)}else{const n=await WebAssembly.instantiate(t,e);return n instanceof WebAssembly.Instance?{instance:n,module:t}:n}}function Ft(){const t={};return t.wbg={},t.wbg.__wbg_Error_e83987f665cf5504=function(e,n){return Error(re(e,n))},t.wbg.__wbg___wbindgen_debug_string_df47ffb5e35e6763=function(e,n){const r=he(n),i=kt(r,l.__wbindgen_malloc,l.__wbindgen_realloc),s=ye;Ie().setInt32(e+4*1,s,!0),Ie().setInt32(e+4*0,i,!0)},t.wbg.__wbg___wbindgen_is_function_ee8a6c5833c90377=function(e){return typeof e=="function"},t.wbg.__wbg___wbindgen_is_object_c818261d21f283a4=function(e){const n=e;return typeof n=="object"&&n!==null},t.wbg.__wbg___wbindgen_is_string_fbb76cb2940daafd=function(e){return typeof e=="string"},t.wbg.__wbg___wbindgen_is_undefined_2d472862bd29a478=function(e){return e===void 0},t.wbg.__wbg___wbindgen_memory_27faa6e0e73716bd=function(){return l.memory},t.wbg.__wbg___wbindgen_throw_b855445ff6a94295=function(e,n){throw new Error(re(e,n))},t.wbg.__wbg_buffer_a215fd0f9dbb5414=function(e){return e.buffer},t.wbg.__wbg_call_5dfa0bdc13906a6c=function(){return z(function(e,n,r){return e.call(n,r)},arguments)},t.wbg.__wbg_call_aa20ca83b389253c=function(){return z(function(e,n){return e.call(n)},arguments)},t.wbg.__wbg_crypto_ab727e271e83bfb9=function(e){return e.crypto},t.wbg.__wbg_getRandomValues_e2aed5b1dc8645ee=function(){return z(function(e,n){e.getRandomValues(n)},arguments)},t.wbg.__wbg_globalThis_a8dc619191cafeea=function(){return z(function(){return globalThis.globalThis},arguments)},t.wbg.__wbg_global_5ff51c28a72393f3=function(){return z(function(){return global.global},arguments)},t.wbg.__wbg_msCrypto_858989c3e8f87e60=function(e){return e.msCrypto},t.wbg.__wbg_new_9163745409122fa8=function(){return new Array},t.wbg.__wbg_new_b6f51e9f591d0d1d=function(e){return new Uint8Array(e)},t.wbg.__wbg_new_d684b6b3189ca362=function(){return new Object},t.wbg.__wbg_new_no_args_4017fdb73845aeab=function(e,n){return new Function(re(e,n))},t.wbg.__wbg_new_with_byte_offset_and_length_6347c118a44fdb35=function(e,n,r){return new Uint8Array(e,n>>>0,r>>>0)},t.wbg.__wbg_new_with_length_97d267b0e5ea37c0=function(e){return new Uint8Array(e>>>0)},t.wbg.__wbg_node_a1a2feca7a914889=function(e){return e.node},t.wbg.__wbg_process_ad7fb702cc30e9d3=function(e){return e.process},t.wbg.__wbg_randomFillSync_e9c0014ab6e905fd=function(){return z(function(e,n){e.randomFillSync(n)},arguments)},t.wbg.__wbg_require_be7c9aaf6587f97e=function(){return z(function(){return module.require},arguments)},t.wbg.__wbg_self_c7b68f3a94ed3a8c=function(){return z(function(){return self.self},arguments)},t.wbg.__wbg_set_3807d5f0bfc24aa7=function(e,n,r){e[n]=r},t.wbg.__wbg_set_61aa9ab41a0fb137=function(e,n,r){e[n>>>0]=r},t.wbg.__wbg_set_911a2f3ee8dd23b5=function(e,n,r){e.set(n,r>>>0)},t.wbg.__wbg_subarray_024065aace0d5bd8=function(e,n,r){return e.subarray(n>>>0,r>>>0)},t.wbg.__wbg_versions_32faad06f7206ef9=function(e){return e.versions},t.wbg.__wbg_window_51ba307f4373bc6f=function(){return z(function(){return window.window},arguments)},t.wbg.__wbindgen_cast_2241b6af4c4b2941=function(e,n){return re(e,n)},t.wbg.__wbindgen_cast_4625c577ab2ec9ee=function(e){return BigInt.asUintN(64,e)},t.wbg.__wbindgen_cast_d6cd19b81560fd6e=function(e){return e},t.wbg.__wbindgen_init_externref_table=function(){const e=l.__wbindgen_externrefs,n=e.grow(4);e.set(0,void 0),e.set(n+0,void 0),e.set(n+1,null),e.set(n+2,!0),e.set(n+3,!1)},t}function At(t,e){return l=t.exports,ot.__wbindgen_wasm_module=e,q=null,Y=null,l.__wbindgen_start(),l}async function ot(t){if(l!==void 0)return l;typeof t<"u"&&(Object.getPrototypeOf(t)===Object.prototype?{module_or_path:t}=t:console.warn("using deprecated parameters for the initialization function; pass a single object instead")),typeof t>"u"&&(t=new URL("./assets/lost_cities_game_lib_bg-2be32a4a.wasm",self.location));const e=Ft();(typeof t=="string"||typeof Request=="function"&&t instanceof Request||typeof URL=="function"&&t instanceof URL)&&(t=fetch(t));const{instance:n,module:r}=await St(await t,e);return At(n,r)}await ot();const Rt=new oe(5,9,3,8,20,8,20);class Et{inner;player_1_info;player_2_info;constructor(){this.inner=Ce.build(Rt),this.update_info("Player1"),this.update_info("Player2")}makeMove(e,n,r,i,s=null){const o=r==M.Route,_=i==le.MainDeck;this.inner.make_move(e,n,o,_,s),this.update_info("Player1"),this.update_info("Player2")}update_info(e){e=="Player1"?this.player_1_info=this.inner.game_info(e):this.player_2_info=this.inner.game_info(e)}get_info(e){return e=="Player1"?this.player_1_info:this.player_2_info}}const Ot=new Et,ve=rt(Ot),zt=new nt("Player1"),v=rt(zt);function Mt(t){let e,n,r=(t[0].card_type.Rank||"ðŸ¤")+"",i,s,o,_;return{c(){e=k("div"),n=k("h5"),i=Pe(r),s=W(),o=k("img"),p(n,"class","card-title svelte-14rpuvr"),p(o,"class","img card-border-radius svelte-14rpuvr"),ze(o.src,_=t[1](t[0]))||p(o,"src",_),p(o,"alt","Card"),p(e,"class","card card-sizes card-border-radius svelte-14rpuvr")},m(c,a){$(c,e,a),T(e,n),T(n,i),T(e,s),T(e,o)},p(c,[a]){a&1&&r!==(r=(c[0].card_type.Rank||"ðŸ¤")+"")&&gt(i,r),a&1&&!ze(o.src,_=c[1](c[0]))&&p(o,"src",_)},i:C,o:C,d(c){c&&P(e)}}}function jt(t,e,n){let{card:r}=e;const i=s=>{const o=s.campaign+1,_=s.card_type.Rank?s.card_type.Rank:"handshake";return`./assets/card_images/${o}_${_}.webp`};return t.$$set=s=>{"card"in s&&n(0,r=s.card)},[r,i]}class Fe extends L{constructor(e){super(),I(this,e,jt,Mt,j,{card:0})}}function Nt(t){let e,n;return{c(){e=k("div"),p(e,"class","free-cards-cover card-border-radius svelte-6isefd"),p(e,"style",n=`background-color: ${t[5][t[0]]}`)},m(r,i){$(r,e,i)},p(r,i){i&1&&n!==(n=`background-color: ${r[5][r[0]]}`)&&p(e,"style",n)},i:C,o:C,d(r){r&&P(e)}}}function Dt(t){let e,n;return e=new Fe({props:{card:t[1]}}),{c(){O(e.$$.fragment)},m(r,i){F(e,r,i),n=!0},p(r,i){const s={};i&2&&(s.card=r[1]),e.$set(s)},i(r){n||(w(e.$$.fragment,r),n=!0)},o(r){y(e.$$.fragment,r),n=!1},d(r){A(e,r)}}}function It(t){let e,n,r,i,s,o;const _=[Dt,Nt],c=[];function a(u,f){return u[1]?0:1}return n=a(t),r=c[n]=_[n](t),{c(){e=k("div"),r.c(),p(e,"class","card-sizes card-border-radius free-card-skeleton animated svelte-6isefd"),h(e,"available-free-cards",t[2]),h(e,"put-card",t[4].putTo==M.FreeCards&&t[0]==t[4].card.campaign),h(e,"available-to-take-card",t[3])},m(u,f){$(u,e,f),c[n].m(e,null),i=!0,s||(o=Q(e,"click",t[7]),s=!0)},p(u,[f]){let b=n;n=a(u),n===b?c[n].p(u,f):(ce(),y(c[b],1,1,()=>{c[b]=null}),ue(),r=c[n],r?r.p(u,f):(r=c[n]=_[n](u),r.c()),w(r,1),r.m(e,null)),(!i||f&4)&&h(e,"available-free-cards",u[2]),(!i||f&17)&&h(e,"put-card",u[4].putTo==M.FreeCards&&u[0]==u[4].card.campaign),(!i||f&8)&&h(e,"available-to-take-card",u[3])},i(u){i||(w(r),i=!0)},o(u){y(r),i=!1},d(u){u&&P(e),c[n].d(),s=!1,o()}}}function Lt(t,e,n){let r;D(t,v,f=>n(4,r=f));let{campaign_type:i}=e,{lastCard:s}=e,{isAvailableToPutCard:o=!1}=e,{isAvailableToTakeCard:_=!1}=e;const c=["yellow","blue","white","green","red"],a=()=>{o?v.update(f=>(f.putCard(M.FreeCards),f)):_&&v.update(f=>(f.takeNewCard(le.FreeCards,i),f))},u=f=>a();return t.$$set=f=>{"campaign_type"in f&&n(0,i=f.campaign_type),"lastCard"in f&&n(1,s=f.lastCard),"isAvailableToPutCard"in f&&n(2,o=f.isAvailableToPutCard),"isAvailableToTakeCard"in f&&n(3,_=f.isAvailableToTakeCard)},[i,s,o,_,r,c,a,u]}class qt extends L{constructor(e){super(),I(this,e,Lt,It,j,{campaign_type:0,lastCard:1,isAvailableToPutCard:2,isAvailableToTakeCard:3})}}function He(t,e,n){const r=t.slice();return r[7]=e[n],r[9]=n,r}function Xe(t,e){let n,r,i,s,o;return r=new Fe({props:{card:e[7]}}),{key:t,first:null,c(){n=k("div"),O(r.$$.fragment),i=W(),p(n,"class",s=Me(e[9]===0?"first-card":"next-card")+" svelte-8erkuf"),this.first=n},m(_,c){$(_,n,c),F(r,n,null),T(n,i),o=!0},p(_,c){e=_;const a={};c&4&&(a.card=e[7]),r.$set(a),(!o||c&4&&s!==(s=Me(e[9]===0?"first-card":"next-card")+" svelte-8erkuf"))&&p(n,"class",s)},i(_){o||(w(r.$$.fragment,_),o=!0)},o(_){y(r.$$.fragment,_),o=!1},d(_){_&&P(n),A(r)}}}function Gt(t){let e,n=[],r=new Map,i,s,o,_=t[2];const c=a=>a[7].id;for(let a=0;a<_.length;a+=1){let u=He(t,_,a),f=c(u);r.set(f,n[a]=Xe(f,u))}return{c(){e=k("div");for(let a=0;a<n.length;a+=1)n[a].c();p(e,"class","card-sizes card-border-radius route animated svelte-8erkuf"),je(e,"min-height",7+t[2].length*4+"vw"),h(e,"available-route",t[1]),h(e,"put-card",t[1]!==null&&t[4].putTo==M.Route&&t[3]==t[4].card.campaign),h(e,"foe-cards",!t[0])},m(a,u){$(a,e,u);for(let f=0;f<n.length;f+=1)n[f]&&n[f].m(e,null);i=!0,s||(o=Q(e,"click",t[6]),s=!0)},p(a,[u]){u&4&&(_=a[2],ce(),n=Se(n,u,c,1,a,_,r,e,$e,Xe,null,He),ue()),(!i||u&4)&&je(e,"min-height",7+a[2].length*4+"vw"),(!i||u&2)&&h(e,"available-route",a[1]),(!i||u&26)&&h(e,"put-card",a[1]!==null&&a[4].putTo==M.Route&&a[3]==a[4].card.campaign),(!i||u&1)&&h(e,"foe-cards",!a[0])},i(a){if(!i){for(let u=0;u<_.length;u+=1)w(n[u]);i=!0}},o(a){for(let u=0;u<n.length;u+=1)y(n[u]);i=!1},d(a){a&&P(e);for(let u=0;u<n.length;u+=1)n[u].d();s=!1,o()}}}function Wt(t,e,n){let r;D(t,v,u=>n(4,r=u));let{isPlayer:i}=e,{isAvailableToPutCard:s}=e,{route:o}=e,{campaign_type:_}=e;const c=()=>{s&&v.update(u=>(u.putCard(M.Route),u))},a=u=>c();return t.$$set=u=>{"isPlayer"in u&&n(0,i=u.isPlayer),"isAvailableToPutCard"in u&&n(1,s=u.isAvailableToPutCard),"route"in u&&n(2,o=u.route),"campaign_type"in u&&n(3,_=u.campaign_type)},[i,s,o,_,r,c,a]}class Ye extends L{constructor(e){super(),I(this,e,Wt,Gt,j,{isPlayer:0,isAvailableToPutCard:1,route:2,campaign_type:3})}}function Bt(t){let e,n,r,i,s,o,_;return n=new Ye({props:{isPlayer:!1,isAvailableToPutCard:null,route:t[0].foes_route,campaign_type:t[1]}}),i=new qt({props:{campaign_type:t[1],lastCard:t[0].last_free_card,isAvailableToPutCard:t[4],isAvailableToTakeCard:t[3]}}),o=new Ye({props:{isPlayer:!0,isAvailableToPutCard:t[4]&&t[2],route:t[0].players_route,campaign_type:t[1]}}),{c(){e=k("div"),O(n.$$.fragment),r=W(),O(i.$$.fragment),s=W(),O(o.$$.fragment)},m(c,a){$(c,e,a),F(n,e,null),T(e,r),F(i,e,null),T(e,s),F(o,e,null),_=!0},p(c,[a]){const u={};a&1&&(u.route=c[0].foes_route),a&2&&(u.campaign_type=c[1]),n.$set(u);const f={};a&2&&(f.campaign_type=c[1]),a&1&&(f.lastCard=c[0].last_free_card),a&16&&(f.isAvailableToPutCard=c[4]),a&8&&(f.isAvailableToTakeCard=c[3]),i.$set(f);const b={};a&20&&(b.isAvailableToPutCard=c[4]&&c[2]),a&1&&(b.route=c[0].players_route),a&2&&(b.campaign_type=c[1]),o.$set(b)},i(c){_||(w(n.$$.fragment,c),w(i.$$.fragment,c),w(o.$$.fragment,c),_=!0)},o(c){y(n.$$.fragment,c),y(i.$$.fragment,c),y(o.$$.fragment,c),_=!1},d(c){c&&P(e),A(n),A(i),A(o)}}}function Ut(t,e,n){let r,i,s;D(t,v,a=>n(5,s=a));let{campaign:o}=e,{campaign_type:_}=e,c=!1;return t.$$set=a=>{"campaign"in a&&n(0,o=a.campaign),"campaign_type"in a&&n(1,_=a.campaign_type)},t.$$.update=()=>{if(t.$$.dirty&34&&n(4,r=s.stage==N.PutingCard&&_==s.card.campaign),t.$$.dirty&35&&n(3,i=s.stage==N.TakingNewCard&&o.last_free_card&&!(_==s.card.campaign&&s.putTo==M.FreeCards)),t.$$.dirty&35&&s.card?.campaign==_){const a=o.players_route.slice(-1)[0]?.card_type,u=s.card.card_type;a?.Rank?n(2,c=u.Rank>a.Rank):n(2,c=!0)}},[o,_,c,i,r,s]}class Vt extends L{constructor(e){super(),I(this,e,Ut,Bt,j,{campaign:0,campaign_type:1})}}function Ht(t){let e,n,r;return{c(){e=k("div"),e.textContent="Main Deck",p(e,"class","card-sizes card-border-radius main-deck animated svelte-gfkl46"),h(e,"available-to-take-card",t[0])},m(i,s){$(i,e,s),n||(r=Q(e,"click",t[3]),n=!0)},p(i,[s]){s&1&&h(e,"available-to-take-card",i[0])},i:C,o:C,d(i){i&&P(e),n=!1,r()}}}function Xt(t,e,n){let r,i;D(t,v,_=>n(2,i=_));const s=()=>{r&&v.update(_=>(_.takeNewCard(le.MainDeck),_))},o=_=>s();return t.$$.update=()=>{t.$$.dirty&4&&n(0,r=i.stage==N.TakingNewCard)},[r,s,i,o]}class Yt extends L{constructor(e){super(),I(this,e,Xt,Ht,j,{})}}function Je(t,e,n){const r=t.slice();return r[7]=e[n],r}function Ke(t,e){let n,r,i,s,o,_;r=new Fe({props:{card:e[7]}});function c(...a){return e[5](e[7],...a)}return{key:t,first:null,c(){n=k("span"),O(r.$$.fragment),i=W(),p(n,"class","card-border-radius animated svelte-48b3f3"),h(n,"selected_card",e[7].id==e[0].card?.id),this.first=n},m(a,u){$(a,n,u),F(r,n,null),T(n,i),s=!0,o||(_=[Q(n,"click",c),Q(n,"blur",e[6])],o=!0)},p(a,u){e=a;const f={};u&2&&(f.card=e[7]),r.$set(f),(!s||u&3)&&h(n,"selected_card",e[7].id==e[0].card?.id)},i(a){s||(w(r.$$.fragment,a),s=!0)},o(a){y(r.$$.fragment,a),s=!1},d(a){a&&P(n),A(r),o=!1,B(_)}}}function Jt(t){let e,n=[],r=new Map,i,s=t[1];const o=_=>_[7].id;for(let _=0;_<s.length;_+=1){let c=Je(t,s,_),a=o(c);r.set(a,n[_]=Ke(a,c))}return{c(){e=k("div");for(let _=0;_<n.length;_+=1)n[_].c();p(e,"class","players-hand svelte-48b3f3")},m(_,c){$(_,e,c);for(let a=0;a<n.length;a+=1)n[a]&&n[a].m(e,null);i=!0},p(_,[c]){c&15&&(s=_[1],ce(),n=Se(n,c,o,1,_,s,r,e,$e,Ke,null,Je),ue())},i(_){if(!i){for(let c=0;c<s.length;c+=1)w(n[c]);i=!0}},o(_){for(let c=0;c<n.length;c+=1)y(n[c]);i=!1},d(_){_&&P(e);for(let c=0;c<n.length;c+=1)n[c].d()}}}function Kt(t,e,n){let r,i,s;D(t,v,u=>n(0,i=u)),D(t,ve,u=>n(4,s=u));const o=u=>{[N.SelectingCard,N.PutingCard].includes(i.stage)&&v.update(f=>(f.selectCard(u),f))},_=()=>{i.stage==N.PutingCard&&v.update(u=>(u.diselectCard(),u))},c=(u,f)=>o(u),a=u=>_();return t.$$.update=()=>{t.$$.dirty&17&&n(1,r=s.get_info(i.player).players_hand)},[i,r,o,_,s,c,a]}class Qt extends L{constructor(e){super(),I(this,e,Kt,Jt,j,{})}}function Qe(t,e,n){const r=t.slice();return r[2]=e[n][0],r[3]=e[n][1],r}function Ze(t,e){let n,r,i;return r=new Vt({props:{campaign:e[3],campaign_type:e[2]}}),{key:t,first:null,c(){n=lt(),O(r.$$.fragment),this.first=n},m(s,o){$(s,n,o),F(r,s,o),i=!0},p(s,o){e=s;const _={};o&3&&(_.campaign=e[3]),o&3&&(_.campaign_type=e[2]),r.$set(_)},i(s){i||(w(r.$$.fragment,s),i=!0)},o(s){y(r.$$.fragment,s),i=!1},d(s){s&&P(n),A(r,s)}}}function Zt(t){let e,n,r,i=[],s=new Map,o,_,c,a,u,f=[...t[1].get_info(t[0].player).campaigns.entries()];const b=g=>g[2];for(let g=0;g<f.length;g+=1){let d=Qe(t,f,g),S=b(d);s.set(S,i[g]=Ze(S,d))}return _=new Yt({}),a=new Qt({}),{c(){e=k("div"),n=k("div"),r=k("div");for(let g=0;g<i.length;g+=1)i[g].c();o=W(),O(_.$$.fragment),c=W(),O(a.$$.fragment),p(r,"class","campaigns svelte-oq8y52"),p(n,"class","playground svelte-oq8y52"),p(e,"class","playground_wrapper svelte-oq8y52")},m(g,d){$(g,e,d),T(e,n),T(n,r);for(let S=0;S<i.length;S+=1)i[S]&&i[S].m(r,null);T(n,o),F(_,n,null),T(e,c),F(a,e,null),u=!0},p(g,[d]){d&3&&(f=[...g[1].get_info(g[0].player).campaigns.entries()],ce(),i=Se(i,d,b,1,g,f,s,r,$e,Ze,null,Qe),ue())},i(g){if(!u){for(let d=0;d<f.length;d+=1)w(i[d]);w(_.$$.fragment,g),w(a.$$.fragment,g),u=!0}},o(g){for(let d=0;d<i.length;d+=1)y(i[d]);y(_.$$.fragment,g),y(a.$$.fragment,g),u=!1},d(g){g&&P(e);for(let d=0;d<i.length;d+=1)i[d].d();A(_),A(a)}}}function xt(t,e,n){let r,i;return D(t,v,s=>n(0,r=s)),D(t,ve,s=>n(1,i=s)),t.$$.update=()=>{if(t.$$.dirty&1&&r.stage==N.SubmitingMove){ve.update(_=>(_.makeMove(r.player,r.card.id,r.putTo,r.takeFrom,r.freeCardsCampaign),_));const s=r.player=="Player1"?"Player2":"Player1",o=new nt(s);v.set(o)}},[r,i]}class en extends L{constructor(e){super(),I(this,e,xt,Zt,j,{})}}function tn(t){let e,n,r;return n=new en({}),{c(){e=k("main"),O(n.$$.fragment)},m(i,s){$(i,e,s),F(n,e,null),r=!0},p:C,i(i){r||(w(n.$$.fragment,i),r=!0)},o(i){y(n.$$.fragment,i),r=!1},d(i){i&&P(e),A(n)}}}class nn extends L{constructor(e){super(),I(this,e,null,tn,j,{})}}new nn({target:document.getElementById("app")});
